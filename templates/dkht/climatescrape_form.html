{% extends "dkht/base.html" %}
{% load static %}
{% block content %}
{{ block.super }}
<div id="background-image">
    <div class="row">
        <div class="col s12">
          <h3>Canadian Climate Data Wrangler</h3>
        	  <h4>Search and Acquire Formatted Historical Climate Data</h4>
            <p class="subheader flow-text"><em>New!</em> Queries are now multithreaded to allow longer
            records to be retrieved without the server timing out.</p>
                <p class="subheader flow-text">Following a few conversations with friends and colleagues,
                  I realized that I'm not alone in thinking that too much time is spent acquiring and formatting data,
                  at the expense of doing real analysis work.  I hope the simple application I've created here shortens
                  the time it takes practitioners to begin real analysis.  I also hope it leads to the development of
                similar tools for a wide range of disciplines.</p>
                <p class="subheader flow-text">Simply enter the lat/lon (in decimal degrees),
                  choose a search radius, and submit.  The code will return all stations within
                  the specified search radius from the target location.  Results of the search
                  are summarized in the subsequent view where you can download the resultant
                  measured records in their entirety.</p>
            <form action="{{ action }}" method="POST" class="post-form" enctype="multipart/form-data">{% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="btn-floating btn-large waves-effect waves-light" onclick="Materialize.toast('Search Submitted!', 4000)">
                    <i class="large material-icons grey darken-3 green-text text-lighten-2">send</i>
                </button>
    		    </form>
        </div>
    </div>
    <div class="row">
      <div class="col s12">
        <p class="flow-text">In the process of developing this application,
          I realized I had to place a few restrictions on the search to avoid some risk
          of racking up large server charges.</p>
        <p class="flow-text">For this reason, the largest search
          radius is currently set to 40km.  If you'd like a custom query, either for a
          larger search area, for hourly climate data, or for any other large
          data manipulation tasks, feel free to <a href="{% url 'dkht:contact-view' %}">contact me</a>,
          or reach out to me through the LinkedIn, Github, or Google+ links in the footer.</p>
      </div>
    </div>

    <div class="row center">
        <div class="col s6 push-s3 green lighten-2">
          <p class="flow-text">If you found this tool helpful and it's saved you some time, consider making a donation!</p>
          <form action="/checkout" method="POST">
              <div class="row">
                <div class="col s4 push-s4">
                  <input type="number" value="10.00" min="0" step="1.00" data-number-to-fixed="2" data-number-stepfactor="100" class="currency" id="c1" />
                </div>
              </div>
              <script src="https://checkout.stripe.com/checkout.js"
                  class="stripe-button"
                  data-key="{{ stripe_key }}"
                  data-amount="2000"
                  data-name="Climate Data Wrangler"
                  data-description="Support for the Climate Data Wrangler Tool"
                  data-image="{% static 'images/dkhydrotech_green.jpg' %}"
                  data-currency="cdn">
              </script>
          </form>
          <p class="flow-text">Payment is processed securely through <a href="https://stripe.com/ca">Stripe</a></p>
        </div>

    </div>
    <div class="row">
      <div class="col s12">
        <p class="subheader flow-text">The Canadian Climate Data Wrangler tool retrieves and concatenates data collected, reviewed, and published by
          <a href="http://climate.weather.gc.ca/">Environment Canada</a>.  The author of this software
          does not guarantee the accuracy of any data, and this application is provided WITHOUT ANY WARRANTY;
          without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
          <a href="http://www.gnu.org/licenses/">GNU General Public License</a> for more details.</p>
      </div>
    </div>
</div>

{% endblock content %}
